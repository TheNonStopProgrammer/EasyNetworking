print("Finding networks in your area..")
--loading core utils

--setting up modem
sizex, sizey = term.getSize()
local sides = { "front", "back", "left", "right", "top","bottom"}
local modem
for i,v in pairs(sides) do
    if peripheral.getType(v) == "modem" then
        modem = peripheral.wrap(v)
        break
    end
end

if modem ~= nil then
    modem.open(2)
if modem.isWireless() then
    modem.transmit(1,2,"ping")
    os.startTimer(5)
    term.clear()
    term.setCursorPos(1,1)
    term.write("SSID")
    --|Channel|Distance|
    term.setCursorPos(1,sizey-16)
    term.write("|Channel|Distance|")
    term.setCursorPos(2,1)
    repeat
        local event, modemSide, senderChannel, replyChannel, message, senderDistance = os.pullEvent()
        if event == "modem_message" then
            x,y = term.getCursorPos()
            term.write(message)
            term.setCursorPos(x,sizey-16)
            term.write("|"..replyChannel)
            term.setCursorPos(x,sizey-8)
            term.write("|"..senderDistance)
            term.setCursorPos(x,sizey)
            term.write("|")
            term.setCursorPos(x+1,1)
            print(message.." "..replyChannel.." "..senderDistance)
        end
    until event == "timer"
    else
    print("Not using a wireless modem, No point in using this program dum dum.")
end

end